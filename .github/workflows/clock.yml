name: Update Clock
on:
  schedule:
    - cron: '* * * * *'  # Updates every minute
  workflow_dispatch:

jobs:
  update-clock:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Generate Clock SVG
        run: |
          cat > clock.svg << 'EOF'
          <svg width="400" height="100" xmlns="http://www.w3.org/2000/svg">
            <rect width="400" height="100" fill="#0D1117"/>
            <text x="200" y="50" font-family="Orbitron, monospace" font-size="40" fill="#00F7FF" text-anchor="middle" dominant-baseline="middle">
              $(date -u +"%H:%M:%S")
            </text>
            <text x="200" y="80" font-family="Arial" font-size="14" fill="#FF00FF" text-anchor="middle">
              EVERY SECOND COUNTS
            </text>
          </svg>
          EOF
      
      - name: Commit and push
        run: |
          git config user.name github-actions
          git config user.email github-actions@github.com
          git add clock.svg
          git commit -m "Update clock" || exit 0
          git push
